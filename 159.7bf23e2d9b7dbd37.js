"use strict";(self.webpackChunkcomsadmin=self.webpackChunkcomsadmin||[]).push([[159],{7159:(z,_,d)=>{d.r(_),d.d(_,{AgentsModule:()=>P});var u=d(6814),g=d(2030),f=d(6512),h=d(8635),Z=d(742),A=d(5638),p=d(266),i=d(6223),r=d(9364);const b=[{label:"#",value:"id"},{label:"Name",value:"name"},{label:"Address",value:"address"},{label:"Phone",value:"phone"},{label:"Email",value:"email"},{label:"Is Active",value:"status"},{label:"Agent Code",value:"agentCode"}];var e=d(5879);function v(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.row;e.xp6(1),e.Oqu(t.id)}}function T(n,o){1&n&&e._uU(0),2&n&&e.hij(" ",o.row.name," ")}function C(n,o){1&n&&e._uU(0),2&n&&e.hij(" ",o.row.address," ")}function x(n,o){1&n&&e._uU(0),2&n&&e.hij(" ",o.row.phone," ")}function U(n,o){1&n&&e._uU(0),2&n&&e.hij(" ",o.row.email," ")}function q(n,o){1&n&&(e.TgZ(0,"div",39),e._uU(1,"Active "),e.qZA())}function w(n,o){1&n&&(e.TgZ(0,"div",40),e._uU(1,"Inactive "),e.qZA())}function N(n,o){if(1&n&&(e.YNc(0,q,2,0,"div",37),e.YNc(1,w,2,0,"div",38)),2&n){const t=o.row;e.Q6J("ngIf",t.status),e.xp6(1),e.Q6J("ngIf",!t.status)}}function F(n,o){1&n&&e._uU(0),2&n&&e.hij(" ",o.row.agentCode," ")}function y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span")(1,"button",41),e.NdJ("click",function(){const a=e.CHM(t),s=a.row,m=a.rowIndex,c=e.oxw(),j=e.MAs(51);return e.KtG(c.editRow(s,m,j))}),e._UZ(2,"i",42),e.qZA()()}}function J(n,o){1&n&&(e.TgZ(0,"small",70),e._uU(1," First name is required"),e.qZA())}function I(n,o){1&n&&(e.TgZ(0,"small",70),e._uU(1," Phone is required"),e.qZA())}function M(n,o){1&n&&(e.TgZ(0,"small",70),e._uU(1," Please enter a valid email address"),e.qZA())}function S(n,o){if(1&n&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.value," ")}}function Q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"h4",44)(2,"div",45)(3,"div",46)(4,"div",47),e._uU(5," New Agent"),e.qZA()()()(),e.TgZ(6,"button",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss())}),e.TgZ(7,"span",49)(8,"i",50),e._uU(9,"close"),e.qZA()()()(),e.TgZ(10,"div",51)(11,"form",52),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onSaveForm(a.addForm))}),e.TgZ(12,"div",53),e._UZ(13,"input",54),e.qZA(),e.TgZ(14,"div",11)(15,"div",55)(16,"label"),e._uU(17,"Name "),e.TgZ(18,"span",56),e._uU(19,"*"),e.qZA()(),e._UZ(20,"input",57),e.YNc(21,J,2,0,"small",58),e.qZA()(),e.TgZ(22,"div",11)(23,"div",59)(24,"label"),e._uU(25,"Phone"),e.TgZ(26,"span",56),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",60),e.YNc(29,I,2,0,"small",58),e.qZA()(),e.TgZ(30,"div",11)(31,"div",55)(32,"label"),e._uU(33,"Email"),e.TgZ(34,"span",56),e._uU(35,"*"),e.qZA()(),e._UZ(36,"input",61),e.YNc(37,M,2,0,"small",58),e.qZA(),e.TgZ(38,"div",55)(39,"label"),e._uU(40,"Status "),e.TgZ(41,"span",56),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"select",62)(44,"option",63),e._uU(45,"Please select"),e.qZA(),e.YNc(46,S,2,2,"option",64),e.qZA()()(),e.TgZ(47,"div",11)(48,"div",65)(49,"label"),e._uU(50,"Address"),e._UZ(51,"span",56),e.qZA(),e._UZ(52,"textarea",66),e.qZA()(),e.TgZ(53,"div",67)(54,"button",68),e._uU(55,"Save"),e.qZA(),e.TgZ(56,"button",69),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close())}),e._uU(57,"Close"),e.qZA()()()()}if(2&n){const t=e.oxw();let l,a,s;e.xp6(11),e.Q6J("formGroup",t.addForm),e.xp6(10),e.Q6J("ngIf",!(null!=(l=t.addForm.get("name"))&&l.valid)&&(null==(l=t.addForm.get("name"))?null:l.touched)),e.xp6(8),e.Q6J("ngIf",!(null!=(a=t.addForm.get("phone"))&&a.valid)&&(null==(a=t.addForm.get("phone"))?null:a.touched)),e.xp6(8),e.Q6J("ngIf",!(null!=(s=t.addForm.get("email"))&&s.valid)&&(null==(s=t.addForm.get("email"))?null:s.touched)),e.xp6(9),e.Q6J("ngForOf",t.statusType),e.xp6(8),e.Q6J("disabled",!t.addForm.valid)}}function k(n,o){1&n&&(e.TgZ(0,"small",70),e._uU(1," First name is required"),e.qZA())}function Y(n,o){1&n&&(e.TgZ(0,"small",70),e._uU(1," Phone is required"),e.qZA())}function H(n,o){1&n&&(e.TgZ(0,"small",70),e._uU(1," Please enter a valid email address"),e.qZA())}function R(n,o){if(1&n&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.value," ")}}function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"h4",44)(2,"div",45)(3,"div",46)(4,"div",47),e._uU(5),e.qZA()()()(),e.TgZ(6,"button",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.TgZ(7,"span",49)(8,"i",50),e._uU(9,"close"),e.qZA()()()(),e.TgZ(10,"div",51)(11,"form",52),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onEditSave(a.editForm))}),e.TgZ(12,"div",53),e._UZ(13,"input",54),e.qZA(),e.TgZ(14,"div",11)(15,"div",55)(16,"label"),e._uU(17,"Name "),e.TgZ(18,"span",56),e._uU(19,"*"),e.qZA()(),e._UZ(20,"input",57),e.YNc(21,k,2,0,"small",58),e.qZA()(),e.TgZ(22,"div",11)(23,"div",59)(24,"label"),e._uU(25,"Phone"),e.TgZ(26,"span",56),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",60),e.YNc(29,Y,2,0,"small",58),e.qZA()(),e.TgZ(30,"div",11)(31,"div",55)(32,"label"),e._uU(33,"Email"),e.TgZ(34,"span",56),e._uU(35,"*"),e.qZA()(),e._UZ(36,"input",61),e.YNc(37,H,2,0,"small",58),e.qZA(),e.TgZ(38,"div",55)(39,"label"),e._uU(40,"Status "),e.TgZ(41,"span",56),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"select",62)(44,"option",63),e._uU(45,"Please select"),e.qZA(),e.YNc(46,R,2,2,"option",64),e.qZA()()(),e.TgZ(47,"div",11)(48,"div",65)(49,"label"),e._uU(50,"Address"),e._UZ(51,"span",56),e.qZA(),e._UZ(52,"textarea",66),e.qZA()(),e.TgZ(53,"div",67)(54,"button",68),e._uU(55,"Save"),e.qZA(),e.TgZ(56,"button",69),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close())}),e._uU(57,"Close"),e.qZA()()()()}if(2&n){const t=e.oxw();let l,a,s;e.xp6(5),e.AsE(" ",t.selectedRowData.name," ",t.selectedRowData.agentCode,""),e.xp6(6),e.Q6J("formGroup",t.editForm),e.xp6(10),e.Q6J("ngIf",!(null!=(l=t.editForm.get("name"))&&l.valid)&&(null==(l=t.editForm.get("name"))?null:l.touched)),e.xp6(8),e.Q6J("ngIf",!(null!=(a=t.editForm.get("phone"))&&a.valid)&&(null==(a=t.editForm.get("phone"))?null:a.touched)),e.xp6(8),e.Q6J("ngIf",!(null!=(s=t.editForm.get("email"))&&s.valid)&&(null==(s=t.editForm.get("email"))?null:s.touched)),e.xp6(9),e.Q6J("ngForOf",t.statusType),e.xp6(8),e.Q6J("disabled",!t.editForm.valid)}}const G=[{path:"",component:(()=>{class n{constructor(t,l){this.fb=t,this.modalService=l,this.columns=b,this.rows=[],this.scrollBarHorizontal=window.innerWidth<1200,this.newUserImg="assets/images/users/user-2.png",this.data=[],this.filteredData=[],this.loadingIndicator=!0,this.isRowSelected=!1,this.reorderable=!0,this.selected=[],this.genders=[{id:"1",value:"male"},{id:"2",value:"female"}],this.statusType=[{id:"1",value:"Active"},{id:"2",value:"Inactive"}],this.designationType=[{id:"1",value:"Manager"},{id:"2",value:"Team Leader"},{id:"3",value:"Clerk"}],this.editForm=this.fb.group({id:new i.p4,name:new i.p4,address:new i.p4,phone:new i.p4,email:new i.p4,status:new i.p4,agentCode:new i.p4}),window.onresize=()=>{this.scrollBarHorizontal=window.innerWidth<1200},this.selection=r.RT.checkbox}onEditSave(t){console.log(t)}ngOnInit(){this.fetch(t=>{this.data=t,this.filteredData=t,setTimeout(()=>{this.loadingIndicator=!1},500)}),this.addForm=this.fb.group({id:[""],img:[""],name:["",[i.kI.required,i.kI.pattern("[a-zA-Z]+")]],lastName:[""],designation:["",[i.kI.required]],phone:["",[i.kI.required]],gender:["",[i.kI.required]],email:["",[i.kI.required,i.kI.email,i.kI.minLength(5)]],status:["",[i.kI.required]],address:[""]})}fetch(t){const l=new XMLHttpRequest;l.open("GET","assets/data/agent-data.json"),l.onload=()=>{const a=JSON.parse(l.response);t(a)},l.send()}onSelect({selected:t}){this.selected.splice(0,this.selected.length),this.selected.push(...t),this.isRowSelected=0!==this.selected.length}addRow(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg"})}editRow(t,l,a){this.modalService.open(a,{ariaLabelledBy:"modal-basic-title",size:"lg"}),this.editForm.setValue({id:t.id,name:t.name,address:t.address,phone:t.phone,email:t.email,status:t.status,agentCode:t.agentCode}),this.selectedRowData=t}onSaveForm(t){console.log("TEST FORM",this.addForm)}filterDatatable(t){const l=t.target.value.toLowerCase(),a=this.columns.length,s=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(m=>{for(let c=0;c<a;c++)if(-1!==m[s[c]].toString().toLowerCase().indexOf(l)||!l)return!0;return!1}),this.table.offset=0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.QS),e.Y36(g.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-agents"]],viewQuery:function(t,l){if(1&t&&(e.Gf(r.nE,5),e.Gf(r.nE,5)),2&t){let a;e.iGM(a=e.CRH())&&(l.table=a.first),e.iGM(a=e.CRH())&&(l.table2=a.first)}},decls:52,vars:16,consts:[[1,"main-content"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title","m-b-0"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/dashboard/main"],[1,"fas","fa-home","font-17"],[1,"section-body"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"p-10"],[1,"row"],[1,"col-lg-6"],[1,"row","m-0"],[1,"col-lg-8","p-0"],[1,"ngxTableHeader"],[1,"table-search-area"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"header-buttons-left"],[1,"tbl-btn-style"],[1,"btn","btn-icon","btn-primary",3,"click"],[1,"col-12","col-md-12","col-lg-12"],["columnMode","force","rowHeight","auto",1,"material",3,"rows","loadingIndicator","headerHeight","footerHeight","limit","scrollbarH","reorderable","selected","selectionType"],["table",""],["name","id",3,"width"],["ngx-datatable-cell-template",""],["name","Name",3,"width"],["name","Address",3,"width"],["name","Phone"],["name","Email"],["name","Is Active",3,"width"],["name","Agent Code"],["name","Actions",3,"width","sortable"],["addRecord",""],["editRecord",""],["class","badge-outline col-green",4,"ngIf"],["class","badge-outline col-red",4,"ngIf"],[1,"badge-outline","col-green"],[1,"badge-outline","col-red"],[1,"btn","btn-tbl-edit","h-auto",3,"click"],[1,"fas","fa-pen"],[1,"modal-header","editRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"table-modal-header"],[1,"modal-about"],[1,"fw-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"input-field","col","s12","d-none"],["formControlName","id","type","hidden",1,"form-control"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],[1,"text-danger"],["type","text","placeholder","First name","formControlName","name","required","",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"col-xl-4","col-lg-4","col-md-12","col-sm-12","mb-2"],["type","text","placeholder","Phone","formControlName","phone","required","",1,"form-control"],["type","email","placeholder","Email","formControlName","email","required","",1,"form-control"],["formControlName","status","required","",1,"form-select","form-control"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["type","textarea","placeholder","Address","formControlName","address",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-light",3,"click"],[1,"form-text","text-danger"],[3,"value"]],template:function(t,l){if(1&t){const a=e.EpF();e.TgZ(0,"section",0)(1,"ul",1)(2,"li",2)(3,"h5",3),e._uU(4,"Agents"),e.qZA()(),e.TgZ(5,"li",4)(6,"a",5),e._UZ(7,"i",6),e.qZA()(),e.TgZ(8,"li",2),e._uU(9,"Agent List"),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"div")(21,"label",17)(22,"i",18),e._uU(23,"search"),e.qZA()(),e.TgZ(24,"input",19),e.NdJ("keyup",function(m){return l.filterDatatable(m)}),e.qZA()()(),e.TgZ(25,"div",20)(26,"div",21)(27,"button",22),e.NdJ("click",function(){e.CHM(a);const m=e.MAs(49);return e.KtG(l.addRow(m))}),e._uU(28," Add Agent "),e.qZA()()()()()()()()(),e.TgZ(29,"div",23)(30,"ngx-datatable",24,25)(32,"ngx-datatable-column",26),e.YNc(33,v,2,1,"ng-template",27),e.qZA(),e.TgZ(34,"ngx-datatable-column",28),e.YNc(35,T,1,1,"ng-template",27),e.qZA(),e.TgZ(36,"ngx-datatable-column",29),e.YNc(37,C,1,1,"ng-template",27),e.qZA(),e.TgZ(38,"ngx-datatable-column",30),e.YNc(39,x,1,1,"ng-template",27),e.qZA(),e.TgZ(40,"ngx-datatable-column",31),e.YNc(41,U,1,1,"ng-template",27),e.qZA(),e.TgZ(42,"ngx-datatable-column",32),e.YNc(43,N,2,2,"ng-template",27),e.qZA(),e.TgZ(44,"ngx-datatable-column",33),e.YNc(45,F,1,1,"ng-template",27),e.qZA(),e.TgZ(46,"ngx-datatable-column",34),e.YNc(47,y,3,0,"ng-template",27),e.qZA()()()()()()(),e.YNc(48,Q,58,6,"ng-template",null,35,e.W1O),e.YNc(50,E,58,8,"ng-template",null,36,e.W1O)}2&t&&(e.xp6(30),e.Q6J("rows",l.data)("loadingIndicator",l.loadingIndicator)("headerHeight",60)("footerHeight",80)("limit",10)("scrollbarH",l.scrollBarHorizontal)("reorderable",l.reorderable)("selected",l.selected)("selectionType",l.selection),e.xp6(2),e.Q6J("width",200)("width",50),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",150),e.xp6(6),e.Q6J("width",50),e.xp6(4),e.Q6J("width",100)("sortable",!1))},dependencies:[u.sg,u.O5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.Q7,i.sg,i.u,p.rH,r.nE,r.UC,r.vq],styles:["[_nghost-%COMP%]     .table-modal-header .modal-about{padding-left:0!important}.table-modal-header[_ngcontent-%COMP%]   .modal-about[_ngcontent-%COMP%]{padding-left:0!important}.header-buttons-left[_ngcontent-%COMP%]{justify-content:center;display:flex!important}"]}),n})()}];let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(G),p.Bz]}),n})(),P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,i.u5,i.UX,g.IJ,O,h.Ns.forRoot({echarts:()=>d.e(707).then(d.bind(d,8707))}),f.kb,Z.X,g.ZQ,r.xD,A.ez]}),n})()}}]);