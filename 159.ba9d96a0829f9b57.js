"use strict";(self.webpackChunkcomsadmin=self.webpackChunkcomsadmin||[]).push([[159],{7159:(I,_,d)=>{d.r(_),d.d(_,{AgentsModule:()=>w});var u=d(6814),c=d(2030),f=d(6512),h=d(8635),Z=d(742),v=d(5638),g=d(266),a=d(6223),m=d(9364);const A=[{label:"#",value:"id"},{label:"Name",value:"name"},{label:"Address",value:"address"},{label:"Phone",value:"phone"},{label:"Email",value:"email"},{label:"Is Active",value:"status"},{label:"Agent Code",value:"agentCode"}];var e=d(5879);function b(n,s){1&n&&(e.TgZ(0,"small",53),e._uU(1," First name is required"),e.qZA())}function T(n,s){1&n&&(e.TgZ(0,"small",53),e._uU(1," Phone is required"),e.qZA())}function C(n,s){1&n&&(e.TgZ(0,"small",53),e._uU(1," Please enter a valid email address"),e.qZA())}function x(n,s){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.value," ")}}function U(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"h4",27)(2,"div",28)(3,"div",29)(4,"div",30),e._uU(5," New Agent"),e.qZA()()()(),e.TgZ(6,"button",31),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss())}),e.TgZ(7,"span",32)(8,"i",33),e._uU(9,"close"),e.qZA()()()(),e.TgZ(10,"div",34)(11,"form",35),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSaveForm(o.addForm))}),e.TgZ(12,"div",36),e._UZ(13,"input",37),e.qZA(),e.TgZ(14,"div",11)(15,"div",38)(16,"label"),e._uU(17,"Name "),e.TgZ(18,"span",39),e._uU(19,"*"),e.qZA()(),e._UZ(20,"input",40),e.YNc(21,b,2,0,"small",41),e.qZA()(),e.TgZ(22,"div",11)(23,"div",42)(24,"label"),e._uU(25,"Phone"),e.TgZ(26,"span",39),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",43),e.YNc(29,T,2,0,"small",41),e.qZA()(),e.TgZ(30,"div",11)(31,"div",38)(32,"label"),e._uU(33,"Email"),e.TgZ(34,"span",39),e._uU(35,"*"),e.qZA()(),e._UZ(36,"input",44),e.YNc(37,C,2,0,"small",41),e.qZA(),e.TgZ(38,"div",38)(39,"label"),e._uU(40,"Status "),e.TgZ(41,"span",39),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"select",45)(44,"option",46),e._uU(45,"Please select"),e.qZA(),e.YNc(46,x,2,2,"option",47),e.qZA()()(),e.TgZ(47,"div",11)(48,"div",48)(49,"label"),e._uU(50,"Address"),e._UZ(51,"span",39),e.qZA(),e._UZ(52,"textarea",49),e.qZA()(),e.TgZ(53,"div",50)(54,"button",51),e._uU(55,"Save"),e.qZA(),e.TgZ(56,"button",52),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close())}),e._uU(57,"Close"),e.qZA()()()()}if(2&n){const t=e.oxw();let l,o,i;e.xp6(11),e.Q6J("formGroup",t.addForm),e.xp6(10),e.Q6J("ngIf",!(null!=(l=t.addForm.get("name"))&&l.valid)&&(null==(l=t.addForm.get("name"))?null:l.touched)),e.xp6(8),e.Q6J("ngIf",!(null!=(o=t.addForm.get("phone"))&&o.valid)&&(null==(o=t.addForm.get("phone"))?null:o.touched)),e.xp6(8),e.Q6J("ngIf",!(null!=(i=t.addForm.get("email"))&&i.valid)&&(null==(i=t.addForm.get("email"))?null:i.touched)),e.xp6(9),e.Q6J("ngForOf",t.statusType),e.xp6(8),e.Q6J("disabled",!t.addForm.valid)}}function q(n,s){1&n&&(e.TgZ(0,"small",53),e._uU(1," First name is required"),e.qZA())}function F(n,s){1&n&&(e.TgZ(0,"small",53),e._uU(1," Phone is required"),e.qZA())}function y(n,s){1&n&&(e.TgZ(0,"small",53),e._uU(1," Please enter a valid email address"),e.qZA())}function N(n,s){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.value," ")}}function J(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"h4",27)(2,"div",28)(3,"div",29)(4,"div",30),e._uU(5),e.qZA()()()(),e.TgZ(6,"button",31),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.TgZ(7,"span",32)(8,"i",33),e._uU(9,"close"),e.qZA()()()(),e.TgZ(10,"div",34)(11,"form",35),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onEditSave(o.editForm))}),e.TgZ(12,"div",36),e._UZ(13,"input",37),e.qZA(),e.TgZ(14,"div",11)(15,"div",38)(16,"label"),e._uU(17,"Name "),e.TgZ(18,"span",39),e._uU(19,"*"),e.qZA()(),e._UZ(20,"input",40),e.YNc(21,q,2,0,"small",41),e.qZA()(),e.TgZ(22,"div",11)(23,"div",42)(24,"label"),e._uU(25,"Phone"),e.TgZ(26,"span",39),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",43),e.YNc(29,F,2,0,"small",41),e.qZA()(),e.TgZ(30,"div",11)(31,"div",38)(32,"label"),e._uU(33,"Email"),e.TgZ(34,"span",39),e._uU(35,"*"),e.qZA()(),e._UZ(36,"input",44),e.YNc(37,y,2,0,"small",41),e.qZA(),e.TgZ(38,"div",38)(39,"label"),e._uU(40,"Status "),e.TgZ(41,"span",39),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"select",45)(44,"option",46),e._uU(45,"Please select"),e.qZA(),e.YNc(46,N,2,2,"option",47),e.qZA()()(),e.TgZ(47,"div",11)(48,"div",48)(49,"label"),e._uU(50,"Address"),e._UZ(51,"span",39),e.qZA(),e._UZ(52,"textarea",49),e.qZA()(),e.TgZ(53,"div",50)(54,"button",51),e._uU(55,"Save"),e.qZA(),e.TgZ(56,"button",52),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close())}),e._uU(57,"Close"),e.qZA()()()()}if(2&n){const t=e.oxw();let l,o,i;e.xp6(5),e.AsE(" ",t.selectedRowData.name," ",t.selectedRowData.agentCode,""),e.xp6(6),e.Q6J("formGroup",t.editForm),e.xp6(10),e.Q6J("ngIf",!(null!=(l=t.editForm.get("name"))&&l.valid)&&(null==(l=t.editForm.get("name"))?null:l.touched)),e.xp6(8),e.Q6J("ngIf",!(null!=(o=t.editForm.get("phone"))&&o.valid)&&(null==(o=t.editForm.get("phone"))?null:o.touched)),e.xp6(8),e.Q6J("ngIf",!(null!=(i=t.editForm.get("email"))&&i.valid)&&(null==(i=t.editForm.get("email"))?null:i.touched)),e.xp6(9),e.Q6J("ngForOf",t.statusType),e.xp6(8),e.Q6J("disabled",!t.editForm.valid)}}const S=[{path:"",component:(()=>{class n{constructor(t,l){this.fb=t,this.modalService=l,this.columns=A,this.rows=[],this.scrollBarHorizontal=window.innerWidth<1200,this.newUserImg="assets/images/users/user-2.png",this.data=[],this.filteredData=[],this.loadingIndicator=!0,this.isRowSelected=!1,this.reorderable=!0,this.selected=[],this.genders=[{id:"1",value:"male"},{id:"2",value:"female"}],this.statusType=[{id:"1",value:"Active"},{id:"2",value:"Completed"},{id:"3",value:"Pending"}],this.designationType=[{id:"1",value:"Manager"},{id:"2",value:"Team Leader"},{id:"3",value:"Clerk"}],this.editForm=this.fb.group({id:new a.p4,name:new a.p4,address:new a.p4,phone:new a.p4,email:new a.p4,status:new a.p4,agentCode:new a.p4}),window.onresize=()=>{this.scrollBarHorizontal=window.innerWidth<1200},this.selection=m.RT.checkbox}onEditSave(t){console.log(t)}ngOnInit(){this.fetch(t=>{this.data=t,this.filteredData=t,setTimeout(()=>{this.loadingIndicator=!1},500)}),this.addForm=this.fb.group({id:[""],img:[""],name:["",[a.kI.required,a.kI.pattern("[a-zA-Z]+")]],lastName:[""],designation:["",[a.kI.required]],phone:["",[a.kI.required]],gender:["",[a.kI.required]],email:["",[a.kI.required,a.kI.email,a.kI.minLength(5)]],status:["",[a.kI.required]],address:[""]})}fetch(t){const l=new XMLHttpRequest;l.open("GET","assets/data/agent-data.json"),l.onload=()=>{const o=JSON.parse(l.response);t(o)},l.send()}onSelect({selected:t}){this.selected.splice(0,this.selected.length),this.selected.push(...t),this.isRowSelected=0!==this.selected.length}addRow(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg"})}editRow(t,l,o){this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",size:"lg"}),this.editForm.setValue({id:t.id,name:t.name,address:t.address,phone:t.phone,email:t.email,status:t.status,agentCode:t.agentCode}),this.selectedRowData=t}onSaveForm(t){console.log("TEST FORM",this.addForm)}filterDatatable(t){const l=t.target.value.toLowerCase(),o=this.columns.length,i=Object.keys(this.filteredData[0]);this.data=this.filteredData.filter(r=>{for(let p=0;p<o;p++)if(-1!==r[i[p]].toString().toLowerCase().indexOf(l)||!l)return!0;return!1}),this.table.offset=0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.QS),e.Y36(c.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-agents"]],viewQuery:function(t,l){if(1&t&&(e.Gf(m.nE,5),e.Gf(m.nE,5)),2&t){let o;e.iGM(o=e.CRH())&&(l.table=o.first),e.iGM(o=e.CRH())&&(l.table2=o.first)}},decls:34,vars:0,consts:[[1,"main-content"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title","m-b-0"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/dashboard/main"],[1,"fas","fa-home","font-17"],[1,"section-body"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"p-10"],[1,"row"],[1,"col-lg-6"],[1,"row","m-0"],[1,"col-lg-8","p-0"],[1,"ngxTableHeader"],[1,"table-search-area"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"header-buttons-left"],[1,"tbl-btn-style"],[1,"btn","btn-icon","btn-primary",3,"click"],[1,"col-12","col-md-12","col-lg-12"],["addRecord",""],["editRecord",""],[1,"modal-header","editRowModal"],["id","modal-basic-title",1,"modal-title"],[1,"table-modal-header"],[1,"modal-about"],[1,"fw-bold","p-t-10","font-17"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"material-icons"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"input-field","col","s12","d-none"],["formControlName","id","type","hidden",1,"form-control"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],[1,"text-danger"],["type","text","placeholder","First name","formControlName","name","required","",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"col-xl-4","col-lg-4","col-md-12","col-sm-12","mb-2"],["type","text","placeholder","Phone","formControlName","phone","required","",1,"form-control"],["type","email","placeholder","Email","formControlName","email","required","",1,"form-control"],["formControlName","status","required","",1,"form-select","form-control"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["type","textarea","placeholder","Address","formControlName","address",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-light",3,"click"],[1,"form-text","text-danger"],[3,"value"]],template:function(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"section",0)(1,"ul",1)(2,"li",2)(3,"h5",3),e._uU(4,"Agents"),e.qZA()(),e.TgZ(5,"li",4)(6,"a",5),e._UZ(7,"i",6),e.qZA()(),e.TgZ(8,"li",2),e._uU(9,"Agent List"),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"div")(21,"label",17)(22,"i",18),e._uU(23,"search"),e.qZA()(),e.TgZ(24,"input",19),e.NdJ("keyup",function(r){return l.filterDatatable(r)}),e.qZA()()(),e.TgZ(25,"div",20)(26,"div",21)(27,"button",22),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(31);return e.KtG(l.addRow(r))}),e._uU(28," Add Agent "),e.qZA()()()()()()()()(),e._UZ(29,"div",23),e.qZA()()()(),e.YNc(30,U,58,6,"ng-template",null,24,e.W1O),e.YNc(32,J,58,8,"ng-template",null,25,e.W1O)}},dependencies:[u.sg,u.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.Q7,a.sg,a.u,g.rH],styles:["[_nghost-%COMP%]     .table-modal-header .modal-about{padding-left:0!important}.table-modal-header[_ngcontent-%COMP%]   .modal-about[_ngcontent-%COMP%]{padding-left:0!important}.header-buttons-left[_ngcontent-%COMP%]{justify-content:center;display:flex!important}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(S),g.Bz]}),n})(),w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,a.u5,a.UX,c.IJ,M,h.Ns.forRoot({echarts:()=>d.e(707).then(d.bind(d,8707))}),f.kb,Z.X,c.ZQ,m.xD,v.ez]}),n})()}}]);